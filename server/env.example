# ======================
# LLM 配置
# ======================

# LLM Provider (openai | anthropic | google | deepseek | openrouter | bedrock | azure | vertex | local)
LLM_PROVIDER=openrouter

# OpenRouter API Key
# 获取地址：https://openrouter.ai/keys
OPENROUTER_API_KEY=sk-or-v1-your-api-key-here

# 模型选择（OpenRouter 需要使用完整模型名称）
# 推荐模型：
# - openai/gpt-4o (GPT-4o，最强综合能力)
# - anthropic/claude-3.5-sonnet (Claude 3.5 Sonnet，推理能力强)
# - google/gemini-2.0-flash-exp:free (Gemini 2.0，免费)
# - deepseek/deepseek-chat (DeepSeek V3，性价比高)
# 
# 更多模型：https://openrouter.ai/models
LLM_MODEL=anthropic/claude-3.5-sonnet

# ==========================================
# 其他 Provider 配置（如果不使用 OpenRouter）
# ==========================================

# OpenAI
# OPENAI_API_KEY=sk-your-api-key-here

# Anthropic
# ANTHROPIC_API_KEY=sk-ant-api03-your-api-key-here

# Google Gemini
# GOOGLE_API_KEY=AIzaSy...

# DeepSeek
# DEEPSEEK_API_KEY=sk-your-deepseek-api-key

# AWS Bedrock
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key

# Azure OpenAI
# AZURE_OPENAI_API_KEY=your-azure-api-key
# AZURE_OPENAI_RESOURCE_NAME=your-resource-name
# AZURE_OPENAI_API_VERSION=2024-02-15-preview

# Google Vertex AI
# GOOGLE_VERTEX_PROJECT=your-gcp-project-id
# GOOGLE_VERTEX_LOCATION=us-central1

# LLM 参数
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=4000

# 可选：自定义 API 端点
# OPENAI_API_BASE=https://api.openai.com/v1

# ======================
# 安全配置
# ======================

# 允许访问的目录（逗号分隔）
# 示例：
# macOS/Linux: /tmp,/Users/yourname/Documents,/Users/yourname/Downloads
# Windows: C:\Users\yourname\Documents,C:\Temp
ALLOWED_DIRECTORIES=/tmp,/Users/yourname/Documents

# 允许执行的命令（逗号分隔）
ALLOWED_COMMANDS=ls,pwd,cat,echo,date,whoami,uname

# ======================
# Code Agent 配置（可选）
# ======================

# E2B API Key（用于代码执行沙箱）
# 获取地址：https://e2b.dev/dashboard
# 如果不配置，CodeAgent 将不会启用
# E2B_API_KEY=your-e2b-api-key-here

# E2B Template ID（可选，默认使用标准模板）
# E2B_TEMPLATE_ID=your-template-id

# ======================
# 服务器配置
# ======================

# 服务端口（默认 3000）
PORT=3000

# Node 环境
NODE_ENV=development

# ======================
# 调试配置
# ======================

# Workflow 执行日志（用于调试和问题追踪）
# 启用后会将每个 workflow 的执行过程记录到 logs/workflows/{workflowId}.log
# 包含所有事件、工具调用、思考过程等详细信息（JSON Lines 格式）
# 生产环境建议关闭以提高性能
ENABLE_WORKFLOW_LOGGING=false

# ======================
# 浏览器控制配置
# ======================

# 浏览器模式（cdp | launch）
# cdp: 连接到用户已打开的 Chrome（推荐，可以使用真实环境和插件）
# launch: 独立启动 Playwright 浏览器（headless，干净环境）
BROWSER_MODE=cdp

# CDP 连接 URL（仅在 BROWSER_MODE=cdp 时需要）
BROWSER_CDP_URL=http://localhost:9222

# 是否使用 headless 模式（仅在 BROWSER_MODE=launch 时生效）
BROWSER_HEADLESS=false

# ======================
# macOS 上启动 Chrome（CDP 模式）
# ======================
#
# 方法 1：命令行启动（推荐）
# 关闭所有 Chrome 窗口后执行：
# /Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --remote-debugging-port=9222
#
# 方法 2：使用 open 命令
# open -a "Google Chrome" --args --remote-debugging-port=9222
#
# 方法 3：创建启动脚本（最方便）
# 1. 创建文件 ~/start-chrome-debug.sh：
#    #!/bin/bash
#    /Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --remote-debugging-port=9222 &
#
# 2. 添加执行权限：
#    chmod +x ~/start-chrome-debug.sh
#
# 3. 每次只需运行：
#    ~/start-chrome-debug.sh
#
# 注意事项：
# - 必须先完全关闭 Chrome（包括后台进程）
# - 查看是否有残留进程：ps aux | grep Chrome
# - 强制关闭：killall "Google Chrome"
# - 启动后访问 http://localhost:9222 确认 CDP 已开启


